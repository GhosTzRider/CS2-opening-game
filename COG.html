<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cases Opening Game</title>
  <link rel="stylesheet" href="Style_COG.css" />
</head>
<body>
  <header class="caseHeader">
    <h1>Cases Opening Game</h1>
    <nav class="navBar">
      <div class="buttonContainer">
        <a class="backButton" href="index.html"><p>Home</p></a>
      </div>
    </nav>
  </header>
  <section class="Spin_that_wheel">
    <div class="spinContainer">
      <div class="wheel" id="wheel"
        style="--total:15; background: conic-gradient(#4e9af1 0deg 24deg,#6ff14e 24deg 48deg,#f1a94e 48deg 72deg,#f14ee3 72deg 96deg,#4ef1e3 96deg 120deg,#c74ef1 120deg 144deg,#f18b4e 144deg 168deg,#f14e4e 168deg 192deg,#4ef176 192deg 216deg,#e0366f 216deg 240deg,#4e9af1 240deg 264deg,#e0366f 264deg 288deg,#e40808 288deg 312deg,#f1e34e 312deg 336deg, #d6e10b 336deg 360deg)">
        <div class="number" id="number" style="--i:1;"><img src="Skærmbillede 2025-11-05 125032.jpg" alt="1"></div>
        <div class="number" id="number" style="--i:2;"><img src="Skærmbillede 2025-11-05 125049.jpg" alt="2"></div>
        <div class="number" id="number" style="--i:3;"><img src="Skærmbillede 2025-11-05 125104.jpg" alt="3"></div>
        <div class="number" id="number" style="--i:4;"><img src="Skærmbillede 2025-11-05 125119.jpg" alt="4"></div>
        <div class="number" id="number" style="--i:5;"><img src="Skærmbillede 2025-11-05 125133.jpg" alt="5"></div>
        <div class="number" id="number" style="--i:6;"><img src="Skærmbillede 2025-11-05 125150.jpg" alt="6"></div>
        <div class="number" id="number" style="--i:7;"><img src="Skærmbillede 2025-11-05 125239.jpg" alt="7"></div>
        <div class="number" id="number" style="--i:8;"><img src="sus_name.jpg" alt="8"></div>
        <div class="number" id="number" style="--i:9;"><img src="Skrmbillede_2025-11-05_125252.jpg" alt="9"></div>
        <div class="number" id="number" style="--i:10;"><img src="Skærmbillede 2025-11-05 125318.jpg" alt="10"></div>
        <div class="number" id="number" style="--i:11;"><img src="Skærmbillede 2025-11-05 125334.jpg" alt="11"></div>
        <div class="number" id="number" style="--i:12;"><img src="Skærmbillede 2025-11-05 125304.jpg" alt="12"></div>
        <div class="number" id="number" style="--i:13;"><img src="Skærmbillede 2025-11-05 125350.jpg" alt="13"></div>
        <div class="number" id="number" style="--i:14;"><img src="Skærmbillede 2025-11-05 125403.jpg" alt="14"></div>
        <div class="number" id="number" style="--i:15;"><img src="Skærmbillede 2025-11-05 125416.jpg" alt="15"></div>
      </div>
      <button class="spinButton" id="spinButton">Spin</button>
    </div>
  </section>

  <footer>
    <div class="footerContainer">
      <p>© 2025 Marcus & Benjamin. All rights reserved.</p>
    </div>
  </footer>

  <script>
    (function () {
      const wheel = document.getElementById('wheel');
      const btn = document.getElementById('spinButton');
      const total = Number(getComputedStyle(wheel).getPropertyValue('--total')) || 15;
      // const number=document.getElementById('number');
      let current = 0;
      let spinning = false;

      btn.addEventListener('click', () => {
        if (spinning) return;
        spinning = true;
        const extra = Math.floor(360 * (3 + Math.random() * 3));
        current += extra;
        wheel.style.transition = 'transform 4s cubic-bezier(.08,.78,.18,1)';
        wheel.style.transform = `translate(-50%,-50%) rotate(${current}deg)`;
        // items
        const nodes = wheel.querySelectorAll('.number');
        const w = wheel.clientWidth;
        const radius = w / 2 - 100; 
        nodes.forEach((el) => {
                    const i = Number(getComputedStyle(el).getPropertyValue('--i')) || 0;
          const angle = (360 / total) * (i - 0.5);
          el.style.transition = 'transform 4s cubic-bezier(.08,.78,.18,1)';
          el.style.transform = `translate(-50%,-50%) rotate(${angle}deg) translateY(${-radius}px) rotate(${-current-angle}deg)`;
        });
        // items
        wheel.addEventListener('transitionend', function handler() {
          spinning = false;
          wheel.removeEventListener('transitionend', handler);
        });
      });

      function placeItems() {
        const nodes = wheel.querySelectorAll('.number');
        const w = wheel.clientWidth;
        const radius = w / 2 - 100; 
        nodes.forEach((el) => {
          const i = Number(getComputedStyle(el).getPropertyValue('--i')) || 0;
          const angle = (360 / total) * (i - 0.5);
          el.style.transform = `translate(-50%,-50%) rotate(${angle}deg) translateY(${-radius}px) rotate(${-angle}deg)`;
        });
      }

      window.addEventListener('load', placeItems);
      window.addEventListener('resize', placeItems);
    })();
  </script>
</body>
</html>